package com.jbentley.testscoresaver;

import com.jbentley.connectivityPackage.connectivityClass;

import android.os.Bundle;
import android.app.Activity;
import android.content.Context;
import android.graphics.Bitmap;
import android.view.Menu;
import android.view.View;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import android.widget.ProgressBar;

public class ScoresEnterActivity extends Activity {
	private WebView scoresEnterWebview;
	Context mContext;
	ProgressBar progressBar;
	
	private static String SCORE_WEB_URL = "http://jbentley313.github.com/MDF3";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        mContext = this;
        
        setContentView(R.layout.activity_scores_enter);
        
        scoresEnterWebview = (WebView) findViewById(R.id.scoresWebview);
        progressBar = (ProgressBar) findViewById(R.id.progressBar);
        
        scoresEnterWebview.getSettings().setJavaScriptEnabled(true);
        
        scoresEnterWebview.setWebViewClient(myWebViewClient);
        
        connectivityClass connectionCheck = new connectivityClass();
        if(connectionCheck.connectionStatus(mContext))
        {
        	scoresEnterWebview.loadUrl(SCORE_WEB_URL);
        }
        
        
    }

  //WebClient
  	private class myWebViewClient extends WebViewClient {

  		@Override
  		public void onPageStarted(WebView view, String url, Bitmap bitMap) {

  			super.onPageStarted(view, url, bitMap);
  			findViewById(R.id.progressBar).setVisibility(View.VISIBLE);
  		}

  		@Override
  		public void onPageFinished(WebView view, String url) {

  			findViewById(R.id.progressBar).setVisibility(View.GONE);
  			

  			

  			
  		}
  	}
    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.scores_enter, menu);
        return true;
    }
    
}
